{"ast":null,"code":"import _objectSpread from\"/Users/ronellbradley/Desktop/Kaden & Adelynn Space Adventures/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import'./Game.css';// Import all the new systems\nimport{PowerUpSystem}from'../systems/PowerUpSystem';import{WingFighterSystem}from'../systems/WingFighterSystem';import{ShieldSystem}from'../systems/ShieldSystem';import{ComboSystem}from'../systems/ComboSystem';import{KillStreakSystem}from'../systems/KillStreakSystem';import{EnhancedBossSystem}from'../systems/EnhancedBossSystem';import{EnhancedEnemySystem}from'../systems/EnhancedEnemySystem';import{EnhancedAchievementSystem}from'../systems/EnhancedAchievementSystem';import{AudioSystem}from'../systems/AudioSystem';import{DifficultySystem}from'../systems/DifficultySystem';import{MobileSystem}from'../systems/MobileSystem';// Import types\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Game=()=>{const canvasRef=useRef(null);const gameLoopRef=useRef(null);const lastTimeRef=useRef(0);// Game state\nconst[gameState,setGameState]=useState('menu');const[gameStats,setGameStats]=useState({score:0,highScore:parseInt(localStorage.getItem('highScore')||'0'),lives:3,health:50,maxHealth:50,combo:0,killStreak:0,maxCombo:0,maxKillStreak:0,playerLevel:1,playerXP:0,bossesDefeated:0,enemiesDestroyed:0,powerUpsCollected:0,gameTime:0,difficulty:'medium'});// Player state\nconst playerRef=useRef({x:0,y:0,width:40,height:40,speed:4,maxSpeed:6,invulnerable:false,invulnerabilityTime:0,level:1,xp:0,maxXP:100,hasShield:false,shieldTime:0,rapidFire:false,rapidFireTime:0,doubleShot:false,wingFighters:[]});// Game objects\nconst bulletsRef=useRef([]);const enemiesRef=useRef([]);const bossesRef=useRef([]);const powerUpsRef=useRef([]);// Systems\nconst powerUpSystemRef=useRef(new PowerUpSystem());const wingFighterSystemRef=useRef(new WingFighterSystem());const shieldSystemRef=useRef(new ShieldSystem());const comboSystemRef=useRef(new ComboSystem());const killStreakSystemRef=useRef(new KillStreakSystem());const bossSystemRef=useRef(new EnhancedBossSystem());const enemySystemRef=useRef(new EnhancedEnemySystem());const achievementSystemRef=useRef(new EnhancedAchievementSystem());const audioSystemRef=useRef(new AudioSystem());const difficultySystemRef=useRef(new DifficultySystem());const mobileSystemRef=useRef(new MobileSystem());// Input state\nconst keysRef=useRef({});const touchRef=useRef({startX:0,startY:0,currentX:0,currentY:0});// Initialize game\nuseEffect(()=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');if(!ctx)return;// Set canvas size\nconst{width,height}=mobileSystemRef.current.getOptimalCanvasSize();canvas.width=width;canvas.height=height;// Optimize for mobile\nmobileSystemRef.current.optimizeForIOS();mobileSystemRef.current.optimizeForAndroid();mobileSystemRef.current.optimizeCanvasForDPI(canvas);// Initialize player position\nplayerRef.current.x=canvas.width/2-playerRef.current.width/2;playerRef.current.y=canvas.height-100;// Set up event listeners\nsetupEventListeners();return()=>{cleanupEventListeners();};},[]);// eslint-disable-line react-hooks/exhaustive-deps\nconst setupEventListeners=()=>{// Keyboard events\nwindow.addEventListener('keydown',handleKeyDown);window.addEventListener('keyup',handleKeyUp);// Touch events\nif(mobileSystemRef.current.hasTouchSupport()){const canvas=canvasRef.current;if(canvas){canvas.addEventListener('touchstart',handleTouchStart,{passive:false});canvas.addEventListener('touchmove',handleTouchMove,{passive:false});canvas.addEventListener('touchend',handleTouchEnd,{passive:false});}}};const cleanupEventListeners=()=>{window.removeEventListener('keydown',handleKeyDown);window.removeEventListener('keyup',handleKeyUp);const canvas=canvasRef.current;if(canvas){canvas.removeEventListener('touchstart',handleTouchStart);canvas.removeEventListener('touchmove',handleTouchMove);canvas.removeEventListener('touchend',handleTouchEnd);}};const handleKeyDown=event=>{keysRef.current[event.key]=true;if(event.key===' '){event.preventDefault();shoot();}};const handleKeyUp=event=>{keysRef.current[event.key]=false;};const handleTouchStart=event=>{event.preventDefault();const touch=event.touches[0];touchRef.current.startX=touch.clientX;touchRef.current.startY=touch.clientY;touchRef.current.currentX=touch.clientX;touchRef.current.currentY=touch.clientY;};const handleTouchMove=event=>{event.preventDefault();const touch=event.touches[0];touchRef.current.currentX=touch.clientX;touchRef.current.currentY=touch.clientY;};const handleTouchEnd=event=>{event.preventDefault();const touch=event.changedTouches[0];const canvas=canvasRef.current;if(!canvas)return;const rect=canvas.getBoundingClientRect();const touchX=touch.clientX-rect.left;const touchY=touch.clientY-rect.top;// Check if touch is on shoot button\nconst shootButton=document.querySelector('.touch-shoot-button');if(shootButton){const buttonRect=shootButton.getBoundingClientRect();if(touchX>=buttonRect.left-rect.left&&touchX<=buttonRect.right-rect.left&&touchY>=buttonRect.top-rect.top&&touchY<=buttonRect.bottom-rect.top){shoot();mobileSystemRef.current.lightVibrate();return;}}// Handle touch movement for player control\nconst deltaX=touchRef.current.currentX-touchRef.current.startX;const deltaY=touchRef.current.currentY-touchRef.current.startY;if(Math.abs(deltaX)>10||Math.abs(deltaY)>10){// Move player based on touch movement\nconst canvas=canvasRef.current;if(canvas){playerRef.current.x=Math.max(0,Math.min(canvas.width-playerRef.current.width,playerRef.current.x+deltaX*0.5));playerRef.current.y=Math.max(0,Math.min(canvas.height-playerRef.current.height,playerRef.current.y+deltaY*0.5));}}};const shoot=useCallback(()=>{if(gameState!=='playing')return;const player=playerRef.current;const bullets=bulletsRef.current;// Player bullet\nbullets.push({x:player.x+player.width/2-2,y:player.y,width:4,height:8,speed:6,type:'player_laser',color:'#00ff00',damage:1,owner:'player'});// Double shot\nif(player.doubleShot){bullets.push({x:player.x+player.width/2-2,y:player.y,width:4,height:8,speed:6,type:'player_laser',color:'#00ff00',damage:1,owner:'player'});}// Wing fighter bullets\nconst wingBullets=wingFighterSystemRef.current.shootWingFighters(player);bullets.push(...wingBullets);audioSystemRef.current.playShootSound();},[gameState]);const startGame=()=>{setGameState('playing');setGameStats(prev=>_objectSpread(_objectSpread({},prev),{},{score:0,lives:difficultySystemRef.current.getPlayerHealth()/10,health:difficultySystemRef.current.getPlayerHealth(),maxHealth:difficultySystemRef.current.getPlayerHealth(),gameTime:0}));// Reset player\nconst canvas=canvasRef.current;if(canvas){playerRef.current.x=canvas.width/2-playerRef.current.width/2;playerRef.current.y=canvas.height-100;playerRef.current.health=difficultySystemRef.current.getPlayerHealth();playerRef.current.speed=difficultySystemRef.current.getPlayerSpeed();}// Clear game objects\nbulletsRef.current=[];enemiesRef.current=[];bossesRef.current=[];powerUpsRef.current=[];// Reset systems\ncomboSystemRef.current.resetCombo();killStreakSystemRef.current.resetStreak();achievementSystemRef.current=new EnhancedAchievementSystem();// Start game loop\ngameLoopRef.current=requestAnimationFrame(gameLoop);};const gameLoop=useCallback(currentTime=>{if(gameState!=='playing')return;const deltaTime=currentTime-lastTimeRef.current;lastTimeRef.current=currentTime;updateGame(deltaTime);render();gameLoopRef.current=requestAnimationFrame(gameLoop);},[gameState,checkCollisions,drawBullets,drawUI]);// eslint-disable-line react-hooks/exhaustive-deps\nconst updateGame=deltaTime=>{const canvas=canvasRef.current;if(!canvas)return;const player=playerRef.current;const bullets=bulletsRef.current;const enemies=enemiesRef.current;const bosses=bossesRef.current;const powerUps=powerUpsRef.current;// Update game time\nsetGameStats(prev=>_objectSpread(_objectSpread({},prev),{},{gameTime:prev.gameTime+deltaTime}));// Update player\nupdatePlayer(deltaTime);// Update systems\ncomboSystemRef.current.updateCombo(deltaTime);killStreakSystemRef.current.updateStreak(deltaTime);shieldSystemRef.current.updateShield(player,deltaTime);wingFighterSystemRef.current.updateWingFighters(player,canvas);// Update game objects\nupdateBullets(deltaTime);updateEnemies(deltaTime);updateBosses(deltaTime);updatePowerUps(deltaTime);// Spawn new objects\nspawnEnemies();spawnBosses();spawnPowerUps();// Check collisions\ncheckCollisions();// Update achievements\nconst newAchievement=achievementSystemRef.current.updateAchievements(gameStats);if(newAchievement){achievementSystemRef.current.displayAchievement(newAchievement);audioSystemRef.current.playAchievementSound();mobileSystemRef.current.heavyVibrate();}achievementSystemRef.current.updateAchievementDisplay();};const updatePlayer=deltaTime=>{const player=playerRef.current;const canvas=canvasRef.current;if(!canvas)return;// Handle input\nif(keysRef.current['ArrowLeft']||keysRef.current['a']||keysRef.current['A']){player.x-=player.speed;}if(keysRef.current['ArrowRight']||keysRef.current['d']||keysRef.current['D']){player.x+=player.speed;}if(keysRef.current['ArrowUp']||keysRef.current['w']||keysRef.current['W']){player.y-=player.speed;}if(keysRef.current['ArrowDown']||keysRef.current['s']||keysRef.current['S']){player.y+=player.speed;}// Keep player within bounds\nplayer.x=Math.max(0,Math.min(canvas.width-player.width,player.x));player.y=Math.max(0,Math.min(canvas.height-player.height,player.y));// Update invulnerability\nif(player.invulnerable){player.invulnerabilityTime-=deltaTime;if(player.invulnerabilityTime<=0){player.invulnerable=false;}}// Update rapid fire\nif(player.rapidFire){player.rapidFireTime-=deltaTime;if(player.rapidFireTime<=0){player.rapidFire=false;}}};const updateBullets=deltaTime=>{const bullets=bulletsRef.current;const canvas=canvasRef.current;if(!canvas)return;for(let i=bullets.length-1;i>=0;i--){const bullet=bullets[i];bullet.y+=bullet.speed*(bullet.owner==='player'?-1:1);// Remove bullets that are off-screen\nif(bullet.y<-bullet.height||bullet.y>canvas.height+bullet.height){bullets.splice(i,1);}}};const updateEnemies=deltaTime=>{const canvas=canvasRef.current;if(!canvas)return;const enemyBullets=enemySystemRef.current.updateEnemies(canvas,playerRef.current);bulletsRef.current.push(...enemyBullets);};const updateBosses=deltaTime=>{const canvas=canvasRef.current;if(!canvas)return;const bossBullets=bossSystemRef.current.updateBosses(canvas,playerRef.current);bulletsRef.current.push(...bossBullets);};const updatePowerUps=deltaTime=>{const canvas=canvasRef.current;if(!canvas)return;powerUpSystemRef.current.updatePowerUps(canvas);};const spawnEnemies=()=>{const canvas=canvasRef.current;if(!canvas)return;const newEnemy=enemySystemRef.current.spawnEnemy(canvas,gameStats.score);if(newEnemy){enemiesRef.current.push(newEnemy);}};const spawnBosses=()=>{const canvas=canvasRef.current;if(!canvas)return;const newBoss=bossSystemRef.current.spawnBoss(canvas,gameStats.score);if(newBoss){bossesRef.current.push(newBoss);}};const spawnPowerUps=()=>{const canvas=canvasRef.current;if(!canvas)return;const newPowerUp=powerUpSystemRef.current.spawnPowerUp(canvas,gameStats.score);if(newPowerUp){powerUpsRef.current.push(newPowerUp);}};const checkCollisions=useCallback(()=>{const player=playerRef.current;const bullets=bulletsRef.current;const enemies=enemiesRef.current;const bosses=bossesRef.current;const powerUps=powerUpsRef.current;// Bullet vs Enemy collisions\nfor(let i=bullets.length-1;i>=0;i--){const bullet=bullets[i];if(bullet.owner!=='player')continue;for(let j=enemies.length-1;j>=0;j--){const enemy=enemies[j];if(isColliding(bullet,enemy)){bullets.splice(i,1);const destroyed=enemySystemRef.current.damageEnemy(j,bullet.damage);if(destroyed){enemies.splice(j,1);const comboMultiplier=comboSystemRef.current.addKill();const streakData=killStreakSystemRef.current.addKill();setGameStats(prev=>_objectSpread(_objectSpread({},prev),{},{score:prev.score+100*comboMultiplier*streakData.multiplier,enemiesDestroyed:prev.enemiesDestroyed+1}));audioSystemRef.current.playEnemyDestroySound();mobileSystemRef.current.mediumVibrate();}else{audioSystemRef.current.playEnemyHitSound();}break;}}}// Bullet vs Boss collisions\nfor(let i=bullets.length-1;i>=0;i--){const bullet=bullets[i];if(bullet.owner!=='player')continue;for(let j=bosses.length-1;j>=0;j--){const boss=bosses[j];if(isColliding(bullet,boss)){bullets.splice(i,1);boss.health-=bullet.damage;if(boss.health<=0){bosses.splice(j,1);setGameStats(prev=>_objectSpread(_objectSpread({},prev),{},{score:prev.score+1000,bossesDefeated:prev.bossesDefeated+1}));audioSystemRef.current.playBossDestroySound();mobileSystemRef.current.heavyVibrate();}else{audioSystemRef.current.playBossHitSound();}break;}}}// Player vs Enemy/Boss collisions\nfor(let i=enemies.length-1;i>=0;i--){const enemy=enemies[i];if(isColliding(player,enemy)){enemies.splice(i,1);takeDamage(1);break;}}for(let i=bosses.length-1;i>=0;i--){const boss=bosses[i];if(isColliding(player,boss)){takeDamage(2);break;}}// Player vs Enemy Bullet collisions\nfor(let i=bullets.length-1;i>=0;i--){const bullet=bullets[i];if(bullet.owner==='player')continue;if(isColliding(player,bullet)){bullets.splice(i,1);takeDamage(bullet.damage);break;}}// Player vs PowerUp collisions\nfor(let i=powerUps.length-1;i>=0;i--){const powerUp=powerUps[i];if(isColliding(player,powerUp)){powerUps.splice(i,1);powerUpSystemRef.current.collectPowerUp(powerUp,player);setGameStats(prev=>_objectSpread(_objectSpread({},prev),{},{powerUpsCollected:prev.powerUpsCollected+1}));audioSystemRef.current.playPowerUpSound();mobileSystemRef.current.lightVibrate();break;}}},[gameStats]);const takeDamage=damage=>{if(playerRef.current.invulnerable)return;// Check shield first\nif(shieldSystemRef.current.takeDamage(playerRef.current,damage)){return;// Shield absorbed damage\n}setGameStats(prev=>{const newHealth=prev.health-damage;if(newHealth<=0){// Player died\nsetGameState('gameOver');if(prev.score>prev.highScore){localStorage.setItem('highScore',prev.score.toString());return _objectSpread(_objectSpread({},prev),{},{highScore:prev.score});}return prev;}return _objectSpread(_objectSpread({},prev),{},{health:newHealth});});// Make player invulnerable briefly\nplayerRef.current.invulnerable=true;playerRef.current.invulnerabilityTime=2000;};const isColliding=(obj1,obj2)=>{return obj1.x<obj2.x+obj2.width&&obj1.x+obj1.width>obj2.x&&obj1.y<obj2.y+obj2.height&&obj1.y+obj1.height>obj2.y;};const render=()=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');if(!ctx)return;// Clear canvas\nctx.fillStyle='#000000';ctx.fillRect(0,0,canvas.width,canvas.height);// Draw stars background\ndrawStars(ctx,canvas);// Draw game objects\ndrawPlayer(ctx);drawBullets(ctx);enemySystemRef.current.drawEnemies(ctx);bossSystemRef.current.drawBosses(ctx);drawPowerUps(ctx);wingFighterSystemRef.current.drawWingFighters(ctx);shieldSystemRef.current.drawShield(ctx,playerRef.current);// Draw UI\ndrawUI(ctx,canvas);comboSystemRef.current.drawComboUI(ctx,canvas);killStreakSystemRef.current.drawStreakUI(ctx,canvas);achievementSystemRef.current.drawAchievementNotification(ctx,canvas);};const drawStars=(ctx,canvas)=>{ctx.fillStyle='#ffffff';for(let i=0;i<100;i++){const x=i*7%canvas.width;const y=i*11%canvas.height;ctx.fillRect(x,y,1,1);}};const drawPlayer=ctx=>{const player=playerRef.current;if(player.invulnerable){ctx.globalAlpha=0.5;}// Draw player ship\nctx.fillStyle='#00ff00';ctx.fillRect(player.x,player.y,player.width,player.height);// Draw player details\nctx.fillStyle='#ffffff';ctx.fillRect(player.x+5,player.y+5,player.width-10,player.height-10);ctx.globalAlpha=1;};const drawBullets=useCallback(ctx=>{const bullets=bulletsRef.current;bullets.forEach(bullet=>{ctx.fillStyle=bullet.color;ctx.fillRect(bullet.x,bullet.y,bullet.width,bullet.height);});},[]);const drawPowerUps=ctx=>{const powerUps=powerUpSystemRef.current.getPowerUps();powerUps.forEach(powerUp=>{ctx.fillStyle=powerUp.color;ctx.fillRect(powerUp.x,powerUp.y,powerUp.width,powerUp.height);// Draw power-up icon\nctx.fillStyle='#ffffff';ctx.font='16px Arial';ctx.textAlign='center';ctx.fillText(powerUp.icon,powerUp.x+powerUp.width/2,powerUp.y+powerUp.height/2+5);ctx.textAlign='left';});};const drawUI=useCallback((ctx,canvas)=>{// Score\nctx.fillStyle='#ffffff';ctx.font='bold 24px Arial';ctx.fillText(\"Score: \".concat(gameStats.score),20,40);// High Score\nctx.font='18px Arial';ctx.fillText(\"High Score: \".concat(gameStats.highScore),20,70);// Health\nctx.fillStyle='#ff0000';ctx.font='bold 20px Arial';ctx.fillText(\"Health: \".concat(gameStats.health),20,100);// Lives\nctx.fillStyle='#ffff00';ctx.fillText(\"Lives: \".concat(gameStats.lives),20,130);// Difficulty\nctx.fillStyle=difficultySystemRef.current.getDifficultyColor();ctx.fillText(\"Difficulty: \".concat(difficultySystemRef.current.getDifficultyName()),20,160);// Game Time\nctx.fillStyle='#00ffff';ctx.fillText(\"Time: \".concat(Math.floor(gameStats.gameTime/1000),\"s\"),20,190);},[gameStats]);return/*#__PURE__*/_jsxs(\"div\",{className:\"game-container\",children:[/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,className:\"game-canvas\",style:{border:'2px solid #333',background:'#000000'}}),gameState==='menu'&&/*#__PURE__*/_jsxs(\"div\",{className:\"menu-overlay\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"game-title\",children:\"\\uD83D\\uDE80 Kaden & Adelynn Space Adventures\"}),/*#__PURE__*/_jsx(\"p\",{className:\"game-subtitle\",children:\"Epic Space Shooter Adventure\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"menu-button\",onClick:startGame,children:\"\\uD83C\\uDFAE Start Game\"}),/*#__PURE__*/_jsx(\"button\",{className:\"menu-button\",onClick:()=>setGameState('settings'),children:\"\\u2699\\uFE0F Settings\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDFAF Mission:\"}),\" Defend the galaxy from alien invaders!\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDE80 Features:\"}),\" Power-ups, Boss Battles, Achievements & More!\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDFAE Controls:\"}),\" Arrow Keys / WASD to move, Space to shoot\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCF1 Mobile:\"}),\" Touch controls with haptic feedback\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"company-branding\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\xA9 2025 Bradley Virtual Solutions, LLC\"})})]})]}),gameState==='gameOver'&&/*#__PURE__*/_jsxs(\"div\",{className:\"game-over-overlay\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"game-over-title\",children:\"\\uD83D\\uDCA5 Game Over!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-over-stats\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDFC6 Final Score:\"}),\" \",gameStats.score.toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u2B50 High Score:\"}),\" \",gameStats.highScore.toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDC7E Enemies Destroyed:\"}),\" \",gameStats.enemiesDestroyed]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDC79 Bosses Defeated:\"}),\" \",gameStats.bossesDefeated]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDD25 Max Combo:\"}),\" \",gameStats.maxCombo]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u2694\\uFE0F Max Kill Streak:\"}),\" \",gameStats.maxKillStreak]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u23F0 Survival Time:\"}),\" \",Math.floor(gameStats.gameTime/1000),\"s\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-over-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"menu-button\",onClick:startGame,children:\"\\uD83D\\uDD04 Play Again\"}),/*#__PURE__*/_jsx(\"button\",{className:\"menu-button\",onClick:()=>setGameState('menu'),children:\"\\uD83C\\uDFE0 Main Menu\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"company-branding\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\xA9 2025 Bradley Virtual Solutions, LLC\"})})]}),gameState==='playing'&&mobileSystemRef.current.hasTouchSupport()&&/*#__PURE__*/_jsx(\"div\",{className:\"touch-controls\",children:/*#__PURE__*/_jsx(\"button\",{className:\"touch-shoot-button\",onTouchStart:e=>{e.preventDefault();shoot();mobileSystemRef.current.lightVibrate();},children:\"\\uD83D\\uDD2B SHOOT\"})})]});};export default Game;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","PowerUpSystem","WingFighterSystem","ShieldSystem","ComboSystem","KillStreakSystem","EnhancedBossSystem","EnhancedEnemySystem","EnhancedAchievementSystem","AudioSystem","DifficultySystem","MobileSystem","jsx","_jsx","jsxs","_jsxs","Game","canvasRef","gameLoopRef","lastTimeRef","gameState","setGameState","gameStats","setGameStats","score","highScore","parseInt","localStorage","getItem","lives","health","maxHealth","combo","killStreak","maxCombo","maxKillStreak","playerLevel","playerXP","bossesDefeated","enemiesDestroyed","powerUpsCollected","gameTime","difficulty","playerRef","x","y","width","height","speed","maxSpeed","invulnerable","invulnerabilityTime","level","xp","maxXP","hasShield","shieldTime","rapidFire","rapidFireTime","doubleShot","wingFighters","bulletsRef","enemiesRef","bossesRef","powerUpsRef","powerUpSystemRef","wingFighterSystemRef","shieldSystemRef","comboSystemRef","killStreakSystemRef","bossSystemRef","enemySystemRef","achievementSystemRef","audioSystemRef","difficultySystemRef","mobileSystemRef","keysRef","touchRef","startX","startY","currentX","currentY","canvas","current","ctx","getContext","getOptimalCanvasSize","optimizeForIOS","optimizeForAndroid","optimizeCanvasForDPI","setupEventListeners","cleanupEventListeners","window","addEventListener","handleKeyDown","handleKeyUp","hasTouchSupport","handleTouchStart","passive","handleTouchMove","handleTouchEnd","removeEventListener","event","key","preventDefault","shoot","touch","touches","clientX","clientY","changedTouches","rect","getBoundingClientRect","touchX","left","touchY","top","shootButton","document","querySelector","buttonRect","right","bottom","lightVibrate","deltaX","deltaY","Math","abs","max","min","player","bullets","push","type","color","damage","owner","wingBullets","shootWingFighters","playShootSound","startGame","prev","_objectSpread","getPlayerHealth","getPlayerSpeed","resetCombo","resetStreak","requestAnimationFrame","gameLoop","currentTime","deltaTime","updateGame","render","checkCollisions","drawBullets","drawUI","enemies","bosses","powerUps","updatePlayer","updateCombo","updateStreak","updateShield","updateWingFighters","updateBullets","updateEnemies","updateBosses","updatePowerUps","spawnEnemies","spawnBosses","spawnPowerUps","newAchievement","updateAchievements","displayAchievement","playAchievementSound","heavyVibrate","updateAchievementDisplay","i","length","bullet","splice","enemyBullets","bossBullets","newEnemy","spawnEnemy","newBoss","spawnBoss","newPowerUp","spawnPowerUp","j","enemy","isColliding","destroyed","damageEnemy","comboMultiplier","addKill","streakData","multiplier","playEnemyDestroySound","mediumVibrate","playEnemyHitSound","boss","playBossDestroySound","playBossHitSound","takeDamage","powerUp","collectPowerUp","playPowerUpSound","newHealth","setItem","toString","obj1","obj2","fillStyle","fillRect","drawStars","drawPlayer","drawEnemies","drawBosses","drawPowerUps","drawWingFighters","drawShield","drawComboUI","drawStreakUI","drawAchievementNotification","globalAlpha","forEach","getPowerUps","font","textAlign","fillText","icon","concat","getDifficultyColor","getDifficultyName","floor","className","children","ref","style","border","background","onClick","toLocaleString","onTouchStart","e"],"sources":["/Users/ronellbradley/Desktop/Kaden & Adelynn Space Adventures/src/components/Game.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport './Game.css';\n\n// Import all the new systems\nimport { PowerUpSystem } from '../systems/PowerUpSystem';\nimport { WingFighterSystem } from '../systems/WingFighterSystem';\nimport { ShieldSystem } from '../systems/ShieldSystem';\nimport { ComboSystem } from '../systems/ComboSystem';\nimport { KillStreakSystem } from '../systems/KillStreakSystem';\nimport { EnhancedBossSystem } from '../systems/EnhancedBossSystem';\nimport { EnhancedEnemySystem } from '../systems/EnhancedEnemySystem';\nimport { EnhancedAchievementSystem } from '../systems/EnhancedAchievementSystem';\nimport { AudioSystem } from '../systems/AudioSystem';\nimport { DifficultySystem } from '../systems/DifficultySystem';\nimport { MobileSystem } from '../systems/MobileSystem';\n\n// Import types\nimport { Player, Enemy, Bullet, PowerUp, Boss, Achievement, GameStats, GameState } from '../types/GameTypes';\n\nconst Game: React.FC = () => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const gameLoopRef = useRef<number | null>(null);\n  const lastTimeRef = useRef<number>(0);\n\n  // Game state\n  const [gameState, setGameState] = useState<GameState['state']>('menu');\n  const [gameStats, setGameStats] = useState<GameStats>({\n    score: 0,\n    highScore: parseInt(localStorage.getItem('highScore') || '0'),\n    lives: 3,\n    health: 50,\n    maxHealth: 50,\n    combo: 0,\n    killStreak: 0,\n    maxCombo: 0,\n    maxKillStreak: 0,\n    playerLevel: 1,\n    playerXP: 0,\n    bossesDefeated: 0,\n    enemiesDestroyed: 0,\n    powerUpsCollected: 0,\n    gameTime: 0,\n    difficulty: 'medium'\n  });\n\n  // Player state\n  const playerRef = useRef<Player>({\n    x: 0,\n    y: 0,\n    width: 40,\n    height: 40,\n    speed: 4,\n    maxSpeed: 6,\n    invulnerable: false,\n    invulnerabilityTime: 0,\n    level: 1,\n    xp: 0,\n    maxXP: 100,\n    hasShield: false,\n    shieldTime: 0,\n    rapidFire: false,\n    rapidFireTime: 0,\n    doubleShot: false,\n    wingFighters: []\n  });\n\n  // Game objects\n  const bulletsRef = useRef<Bullet[]>([]);\n  const enemiesRef = useRef<Enemy[]>([]);\n  const bossesRef = useRef<Boss[]>([]);\n  const powerUpsRef = useRef<PowerUp[]>([]);\n\n  // Systems\n  const powerUpSystemRef = useRef<PowerUpSystem>(new PowerUpSystem());\n  const wingFighterSystemRef = useRef<WingFighterSystem>(new WingFighterSystem());\n  const shieldSystemRef = useRef<ShieldSystem>(new ShieldSystem());\n  const comboSystemRef = useRef<ComboSystem>(new ComboSystem());\n  const killStreakSystemRef = useRef<KillStreakSystem>(new KillStreakSystem());\n  const bossSystemRef = useRef<EnhancedBossSystem>(new EnhancedBossSystem());\n  const enemySystemRef = useRef<EnhancedEnemySystem>(new EnhancedEnemySystem());\n  const achievementSystemRef = useRef<EnhancedAchievementSystem>(new EnhancedAchievementSystem());\n  const audioSystemRef = useRef<AudioSystem>(new AudioSystem());\n  const difficultySystemRef = useRef<DifficultySystem>(new DifficultySystem());\n  const mobileSystemRef = useRef<MobileSystem>(new MobileSystem());\n\n  // Input state\n  const keysRef = useRef<{ [key: string]: boolean }>({});\n  const touchRef = useRef<{ startX: number; startY: number; currentX: number; currentY: number }>({\n    startX: 0,\n    startY: 0,\n    currentX: 0,\n    currentY: 0\n  });\n\n  // Initialize game\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Set canvas size\n    const { width, height } = mobileSystemRef.current.getOptimalCanvasSize();\n    canvas.width = width;\n    canvas.height = height;\n\n    // Optimize for mobile\n    mobileSystemRef.current.optimizeForIOS();\n    mobileSystemRef.current.optimizeForAndroid();\n    mobileSystemRef.current.optimizeCanvasForDPI(canvas);\n\n    // Initialize player position\n    playerRef.current.x = canvas.width / 2 - playerRef.current.width / 2;\n    playerRef.current.y = canvas.height - 100;\n\n    // Set up event listeners\n    setupEventListeners();\n\n    return () => {\n      cleanupEventListeners();\n    };\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const setupEventListeners = () => {\n    // Keyboard events\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n\n    // Touch events\n    if (mobileSystemRef.current.hasTouchSupport()) {\n      const canvas = canvasRef.current;\n      if (canvas) {\n        canvas.addEventListener('touchstart', handleTouchStart, { passive: false });\n        canvas.addEventListener('touchmove', handleTouchMove, { passive: false });\n        canvas.addEventListener('touchend', handleTouchEnd, { passive: false });\n      }\n    }\n  };\n\n  const cleanupEventListeners = () => {\n    window.removeEventListener('keydown', handleKeyDown);\n    window.removeEventListener('keyup', handleKeyUp);\n\n    const canvas = canvasRef.current;\n    if (canvas) {\n      canvas.removeEventListener('touchstart', handleTouchStart);\n      canvas.removeEventListener('touchmove', handleTouchMove);\n      canvas.removeEventListener('touchend', handleTouchEnd);\n    }\n  };\n\n  const handleKeyDown = (event: KeyboardEvent) => {\n    keysRef.current[event.key] = true;\n    \n    if (event.key === ' ') {\n      event.preventDefault();\n      shoot();\n    }\n  };\n\n  const handleKeyUp = (event: KeyboardEvent) => {\n    keysRef.current[event.key] = false;\n  };\n\n  const handleTouchStart = (event: TouchEvent) => {\n    event.preventDefault();\n    const touch = event.touches[0];\n    touchRef.current.startX = touch.clientX;\n    touchRef.current.startY = touch.clientY;\n    touchRef.current.currentX = touch.clientX;\n    touchRef.current.currentY = touch.clientY;\n  };\n\n  const handleTouchMove = (event: TouchEvent) => {\n    event.preventDefault();\n    const touch = event.touches[0];\n    touchRef.current.currentX = touch.clientX;\n    touchRef.current.currentY = touch.clientY;\n  };\n\n  const handleTouchEnd = (event: TouchEvent) => {\n    event.preventDefault();\n    const touch = event.changedTouches[0];\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const rect = canvas.getBoundingClientRect();\n    const touchX = touch.clientX - rect.left;\n    const touchY = touch.clientY - rect.top;\n\n    // Check if touch is on shoot button\n    const shootButton = document.querySelector('.touch-shoot-button');\n    if (shootButton) {\n      const buttonRect = shootButton.getBoundingClientRect();\n      if (touchX >= buttonRect.left - rect.left && \n          touchX <= buttonRect.right - rect.left &&\n          touchY >= buttonRect.top - rect.top && \n          touchY <= buttonRect.bottom - rect.top) {\n        shoot();\n        mobileSystemRef.current.lightVibrate();\n        return;\n      }\n    }\n\n    // Handle touch movement for player control\n    const deltaX = touchRef.current.currentX - touchRef.current.startX;\n    const deltaY = touchRef.current.currentY - touchRef.current.startY;\n    \n    if (Math.abs(deltaX) > 10 || Math.abs(deltaY) > 10) {\n      // Move player based on touch movement\n      const canvas = canvasRef.current;\n      if (canvas) {\n        playerRef.current.x = Math.max(0, Math.min(canvas.width - playerRef.current.width, playerRef.current.x + deltaX * 0.5));\n        playerRef.current.y = Math.max(0, Math.min(canvas.height - playerRef.current.height, playerRef.current.y + deltaY * 0.5));\n      }\n    }\n  };\n\n  const shoot = useCallback(() => {\n    if (gameState !== 'playing') return;\n\n    const player = playerRef.current;\n    const bullets = bulletsRef.current;\n\n    // Player bullet\n    bullets.push({\n      x: player.x + player.width / 2 - 2,\n      y: player.y,\n      width: 4,\n      height: 8,\n      speed: 6,\n      type: 'player_laser',\n      color: '#00ff00',\n      damage: 1,\n      owner: 'player'\n    });\n\n    // Double shot\n    if (player.doubleShot) {\n      bullets.push({\n        x: player.x + player.width / 2 - 2,\n        y: player.y,\n        width: 4,\n        height: 8,\n        speed: 6,\n        type: 'player_laser',\n        color: '#00ff00',\n        damage: 1,\n        owner: 'player'\n      });\n    }\n\n    // Wing fighter bullets\n    const wingBullets = wingFighterSystemRef.current.shootWingFighters(player);\n    bullets.push(...wingBullets);\n\n    audioSystemRef.current.playShootSound();\n  }, [gameState]);\n\n  const startGame = () => {\n    setGameState('playing');\n    setGameStats(prev => ({\n      ...prev,\n      score: 0,\n      lives: difficultySystemRef.current.getPlayerHealth() / 10,\n      health: difficultySystemRef.current.getPlayerHealth(),\n      maxHealth: difficultySystemRef.current.getPlayerHealth(),\n      gameTime: 0\n    }));\n\n    // Reset player\n    const canvas = canvasRef.current;\n    if (canvas) {\n      playerRef.current.x = canvas.width / 2 - playerRef.current.width / 2;\n      playerRef.current.y = canvas.height - 100;\n      playerRef.current.health = difficultySystemRef.current.getPlayerHealth();\n      playerRef.current.speed = difficultySystemRef.current.getPlayerSpeed();\n    }\n\n    // Clear game objects\n    bulletsRef.current = [];\n    enemiesRef.current = [];\n    bossesRef.current = [];\n    powerUpsRef.current = [];\n\n    // Reset systems\n    comboSystemRef.current.resetCombo();\n    killStreakSystemRef.current.resetStreak();\n    achievementSystemRef.current = new EnhancedAchievementSystem();\n\n    // Start game loop\n    gameLoopRef.current = requestAnimationFrame(gameLoop);\n  };\n\n  const gameLoop = useCallback((currentTime: number) => {\n    if (gameState !== 'playing') return;\n\n    const deltaTime = currentTime - lastTimeRef.current;\n    lastTimeRef.current = currentTime;\n\n    updateGame(deltaTime);\n    render();\n\n    gameLoopRef.current = requestAnimationFrame(gameLoop);\n  }, [gameState, checkCollisions, drawBullets, drawUI]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const updateGame = (deltaTime: number) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const player = playerRef.current;\n    const bullets = bulletsRef.current;\n    const enemies = enemiesRef.current;\n    const bosses = bossesRef.current;\n    const powerUps = powerUpsRef.current;\n\n    // Update game time\n    setGameStats(prev => ({\n      ...prev,\n      gameTime: prev.gameTime + deltaTime\n    }));\n\n    // Update player\n    updatePlayer(deltaTime);\n\n    // Update systems\n    comboSystemRef.current.updateCombo(deltaTime);\n    killStreakSystemRef.current.updateStreak(deltaTime);\n    shieldSystemRef.current.updateShield(player, deltaTime);\n    wingFighterSystemRef.current.updateWingFighters(player, canvas);\n\n    // Update game objects\n    updateBullets(deltaTime);\n    updateEnemies(deltaTime);\n    updateBosses(deltaTime);\n    updatePowerUps(deltaTime);\n\n    // Spawn new objects\n    spawnEnemies();\n    spawnBosses();\n    spawnPowerUps();\n\n    // Check collisions\n    checkCollisions();\n\n    // Update achievements\n    const newAchievement = achievementSystemRef.current.updateAchievements(gameStats);\n    if (newAchievement) {\n      achievementSystemRef.current.displayAchievement(newAchievement);\n      audioSystemRef.current.playAchievementSound();\n      mobileSystemRef.current.heavyVibrate();\n    }\n\n    achievementSystemRef.current.updateAchievementDisplay();\n  };\n\n  const updatePlayer = (deltaTime: number) => {\n    const player = playerRef.current;\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    // Handle input\n    if (keysRef.current['ArrowLeft'] || keysRef.current['a'] || keysRef.current['A']) {\n      player.x -= player.speed;\n    }\n    if (keysRef.current['ArrowRight'] || keysRef.current['d'] || keysRef.current['D']) {\n      player.x += player.speed;\n    }\n    if (keysRef.current['ArrowUp'] || keysRef.current['w'] || keysRef.current['W']) {\n      player.y -= player.speed;\n    }\n    if (keysRef.current['ArrowDown'] || keysRef.current['s'] || keysRef.current['S']) {\n      player.y += player.speed;\n    }\n\n    // Keep player within bounds\n    player.x = Math.max(0, Math.min(canvas.width - player.width, player.x));\n    player.y = Math.max(0, Math.min(canvas.height - player.height, player.y));\n\n    // Update invulnerability\n    if (player.invulnerable) {\n      player.invulnerabilityTime -= deltaTime;\n      if (player.invulnerabilityTime <= 0) {\n        player.invulnerable = false;\n      }\n    }\n\n    // Update rapid fire\n    if (player.rapidFire) {\n      player.rapidFireTime -= deltaTime;\n      if (player.rapidFireTime <= 0) {\n        player.rapidFire = false;\n      }\n    }\n  };\n\n  const updateBullets = (deltaTime: number) => {\n    const bullets = bulletsRef.current;\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    for (let i = bullets.length - 1; i >= 0; i--) {\n      const bullet = bullets[i];\n      bullet.y += bullet.speed * (bullet.owner === 'player' ? -1 : 1);\n\n      // Remove bullets that are off-screen\n      if (bullet.y < -bullet.height || bullet.y > canvas.height + bullet.height) {\n        bullets.splice(i, 1);\n      }\n    }\n  };\n\n  const updateEnemies = (deltaTime: number) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const enemyBullets = enemySystemRef.current.updateEnemies(canvas, playerRef.current);\n    bulletsRef.current.push(...enemyBullets);\n  };\n\n  const updateBosses = (deltaTime: number) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const bossBullets = bossSystemRef.current.updateBosses(canvas, playerRef.current);\n    bulletsRef.current.push(...bossBullets);\n  };\n\n  const updatePowerUps = (deltaTime: number) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    powerUpSystemRef.current.updatePowerUps(canvas);\n  };\n\n  const spawnEnemies = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const newEnemy = enemySystemRef.current.spawnEnemy(canvas, gameStats.score);\n    if (newEnemy) {\n      enemiesRef.current.push(newEnemy);\n    }\n  };\n\n  const spawnBosses = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const newBoss = bossSystemRef.current.spawnBoss(canvas, gameStats.score);\n    if (newBoss) {\n      bossesRef.current.push(newBoss);\n    }\n  };\n\n  const spawnPowerUps = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const newPowerUp = powerUpSystemRef.current.spawnPowerUp(canvas, gameStats.score);\n    if (newPowerUp) {\n      powerUpsRef.current.push(newPowerUp);\n    }\n  };\n\n  const checkCollisions = useCallback(() => {\n    const player = playerRef.current;\n    const bullets = bulletsRef.current;\n    const enemies = enemiesRef.current;\n    const bosses = bossesRef.current;\n    const powerUps = powerUpsRef.current;\n\n    // Bullet vs Enemy collisions\n    for (let i = bullets.length - 1; i >= 0; i--) {\n      const bullet = bullets[i];\n      if (bullet.owner !== 'player') continue;\n\n      for (let j = enemies.length - 1; j >= 0; j--) {\n        const enemy = enemies[j];\n        if (isColliding(bullet, enemy)) {\n          bullets.splice(i, 1);\n          const destroyed = enemySystemRef.current.damageEnemy(j, bullet.damage);\n          \n          if (destroyed) {\n            enemies.splice(j, 1);\n            const comboMultiplier = comboSystemRef.current.addKill();\n            const streakData = killStreakSystemRef.current.addKill();\n            \n            setGameStats(prev => ({\n              ...prev,\n              score: prev.score + (100 * comboMultiplier * streakData.multiplier),\n              enemiesDestroyed: prev.enemiesDestroyed + 1\n            }));\n\n            audioSystemRef.current.playEnemyDestroySound();\n            mobileSystemRef.current.mediumVibrate();\n          } else {\n            audioSystemRef.current.playEnemyHitSound();\n          }\n          break;\n        }\n      }\n    }\n\n    // Bullet vs Boss collisions\n    for (let i = bullets.length - 1; i >= 0; i--) {\n      const bullet = bullets[i];\n      if (bullet.owner !== 'player') continue;\n\n      for (let j = bosses.length - 1; j >= 0; j--) {\n        const boss = bosses[j];\n        if (isColliding(bullet, boss)) {\n          bullets.splice(i, 1);\n          boss.health -= bullet.damage;\n          \n          if (boss.health <= 0) {\n            bosses.splice(j, 1);\n            setGameStats(prev => ({\n              ...prev,\n              score: prev.score + 1000,\n              bossesDefeated: prev.bossesDefeated + 1\n            }));\n\n            audioSystemRef.current.playBossDestroySound();\n            mobileSystemRef.current.heavyVibrate();\n          } else {\n            audioSystemRef.current.playBossHitSound();\n          }\n          break;\n        }\n      }\n    }\n\n    // Player vs Enemy/Boss collisions\n    for (let i = enemies.length - 1; i >= 0; i--) {\n      const enemy = enemies[i];\n      if (isColliding(player, enemy)) {\n        enemies.splice(i, 1);\n        takeDamage(1);\n        break;\n      }\n    }\n\n    for (let i = bosses.length - 1; i >= 0; i--) {\n      const boss = bosses[i];\n      if (isColliding(player, boss)) {\n        takeDamage(2);\n        break;\n      }\n    }\n\n    // Player vs Enemy Bullet collisions\n    for (let i = bullets.length - 1; i >= 0; i--) {\n      const bullet = bullets[i];\n      if (bullet.owner === 'player') continue;\n\n      if (isColliding(player, bullet)) {\n        bullets.splice(i, 1);\n        takeDamage(bullet.damage);\n        break;\n      }\n    }\n\n    // Player vs PowerUp collisions\n    for (let i = powerUps.length - 1; i >= 0; i--) {\n      const powerUp = powerUps[i];\n      if (isColliding(player, powerUp)) {\n        powerUps.splice(i, 1);\n        powerUpSystemRef.current.collectPowerUp(powerUp, player);\n        \n        setGameStats(prev => ({\n          ...prev,\n          powerUpsCollected: prev.powerUpsCollected + 1\n        }));\n\n        audioSystemRef.current.playPowerUpSound();\n        mobileSystemRef.current.lightVibrate();\n        break;\n      }\n    }\n  }, [gameStats]);\n\n  const takeDamage = (damage: number) => {\n    if (playerRef.current.invulnerable) return;\n\n    // Check shield first\n    if (shieldSystemRef.current.takeDamage(playerRef.current, damage)) {\n      return; // Shield absorbed damage\n    }\n\n    setGameStats(prev => {\n      const newHealth = prev.health - damage;\n      if (newHealth <= 0) {\n        // Player died\n        setGameState('gameOver');\n        if (prev.score > prev.highScore) {\n          localStorage.setItem('highScore', prev.score.toString());\n          return { ...prev, highScore: prev.score };\n        }\n        return prev;\n      }\n      return { ...prev, health: newHealth };\n    });\n\n    // Make player invulnerable briefly\n    playerRef.current.invulnerable = true;\n    playerRef.current.invulnerabilityTime = 2000;\n  };\n\n  const isColliding = (obj1: any, obj2: any): boolean => {\n    return obj1.x < obj2.x + obj2.width &&\n           obj1.x + obj1.width > obj2.x &&\n           obj1.y < obj2.y + obj2.height &&\n           obj1.y + obj1.height > obj2.y;\n  };\n\n  const render = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Clear canvas\n    ctx.fillStyle = '#000000';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    // Draw stars background\n    drawStars(ctx, canvas);\n\n    // Draw game objects\n    drawPlayer(ctx);\n    drawBullets(ctx);\n    enemySystemRef.current.drawEnemies(ctx);\n    bossSystemRef.current.drawBosses(ctx);\n    drawPowerUps(ctx);\n    wingFighterSystemRef.current.drawWingFighters(ctx);\n    shieldSystemRef.current.drawShield(ctx, playerRef.current);\n\n    // Draw UI\n    drawUI(ctx, canvas);\n    comboSystemRef.current.drawComboUI(ctx, canvas);\n    killStreakSystemRef.current.drawStreakUI(ctx, canvas);\n    achievementSystemRef.current.drawAchievementNotification(ctx, canvas);\n  };\n\n  const drawStars = (ctx: CanvasRenderingContext2D, canvas: HTMLCanvasElement) => {\n    ctx.fillStyle = '#ffffff';\n    for (let i = 0; i < 100; i++) {\n      const x = (i * 7) % canvas.width;\n      const y = (i * 11) % canvas.height;\n      ctx.fillRect(x, y, 1, 1);\n    }\n  };\n\n  const drawPlayer = (ctx: CanvasRenderingContext2D) => {\n    const player = playerRef.current;\n    \n    if (player.invulnerable) {\n      ctx.globalAlpha = 0.5;\n    }\n\n    // Draw player ship\n    ctx.fillStyle = '#00ff00';\n    ctx.fillRect(player.x, player.y, player.width, player.height);\n    \n    // Draw player details\n    ctx.fillStyle = '#ffffff';\n    ctx.fillRect(player.x + 5, player.y + 5, player.width - 10, player.height - 10);\n\n    ctx.globalAlpha = 1;\n  };\n\n  const drawBullets = useCallback((ctx: CanvasRenderingContext2D) => {\n    const bullets = bulletsRef.current;\n    \n    bullets.forEach(bullet => {\n      ctx.fillStyle = bullet.color;\n      ctx.fillRect(bullet.x, bullet.y, bullet.width, bullet.height);\n    });\n  }, []);\n\n  const drawPowerUps = (ctx: CanvasRenderingContext2D) => {\n    const powerUps = powerUpSystemRef.current.getPowerUps();\n    \n    powerUps.forEach(powerUp => {\n      ctx.fillStyle = powerUp.color;\n      ctx.fillRect(powerUp.x, powerUp.y, powerUp.width, powerUp.height);\n      \n      // Draw power-up icon\n      ctx.fillStyle = '#ffffff';\n      ctx.font = '16px Arial';\n      ctx.textAlign = 'center';\n      ctx.fillText(\n        powerUp.icon,\n        powerUp.x + powerUp.width / 2,\n        powerUp.y + powerUp.height / 2 + 5\n      );\n      ctx.textAlign = 'left';\n    });\n  };\n\n  const drawUI = useCallback((ctx: CanvasRenderingContext2D, canvas: HTMLCanvasElement) => {\n    // Score\n    ctx.fillStyle = '#ffffff';\n    ctx.font = 'bold 24px Arial';\n    ctx.fillText(`Score: ${gameStats.score}`, 20, 40);\n    \n    // High Score\n    ctx.font = '18px Arial';\n    ctx.fillText(`High Score: ${gameStats.highScore}`, 20, 70);\n    \n    // Health\n    ctx.fillStyle = '#ff0000';\n    ctx.font = 'bold 20px Arial';\n    ctx.fillText(`Health: ${gameStats.health}`, 20, 100);\n    \n    // Lives\n    ctx.fillStyle = '#ffff00';\n    ctx.fillText(`Lives: ${gameStats.lives}`, 20, 130);\n    \n    // Difficulty\n    ctx.fillStyle = difficultySystemRef.current.getDifficultyColor();\n    ctx.fillText(`Difficulty: ${difficultySystemRef.current.getDifficultyName()}`, 20, 160);\n    \n    // Game Time\n    ctx.fillStyle = '#00ffff';\n    ctx.fillText(`Time: ${Math.floor(gameStats.gameTime / 1000)}s`, 20, 190);\n  }, [gameStats]);\n\n  return (\n    <div className=\"game-container\">\n      <canvas\n        ref={canvasRef}\n        className=\"game-canvas\"\n        style={{\n          border: '2px solid #333',\n          background: '#000000'\n        }}\n      />\n      \n      {gameState === 'menu' && (\n        <div className=\"menu-overlay\">\n          <h1 className=\"game-title\">🚀 Kaden & Adelynn Space Adventures</h1>\n          <p className=\"game-subtitle\">Epic Space Shooter Adventure</p>\n          <div className=\"menu-buttons\">\n            <button className=\"menu-button\" onClick={startGame}>\n              🎮 Start Game\n            </button>\n            <button className=\"menu-button\" onClick={() => setGameState('settings')}>\n              ⚙️ Settings\n            </button>\n          </div>\n          <div className=\"game-info\">\n            <p><strong>🎯 Mission:</strong> Defend the galaxy from alien invaders!</p>\n            <p><strong>🚀 Features:</strong> Power-ups, Boss Battles, Achievements & More!</p>\n            <p><strong>🎮 Controls:</strong> Arrow Keys / WASD to move, Space to shoot</p>\n            <p><strong>📱 Mobile:</strong> Touch controls with haptic feedback</p>\n            <p className=\"company-branding\"><strong>© 2025 Bradley Virtual Solutions, LLC</strong></p>\n          </div>\n        </div>\n      )}\n      \n      {gameState === 'gameOver' && (\n        <div className=\"game-over-overlay\">\n          <h2 className=\"game-over-title\">💥 Game Over!</h2>\n          <div className=\"game-over-stats\">\n            <p><strong>🏆 Final Score:</strong> {gameStats.score.toLocaleString()}</p>\n            <p><strong>⭐ High Score:</strong> {gameStats.highScore.toLocaleString()}</p>\n            <p><strong>👾 Enemies Destroyed:</strong> {gameStats.enemiesDestroyed}</p>\n            <p><strong>👹 Bosses Defeated:</strong> {gameStats.bossesDefeated}</p>\n            <p><strong>🔥 Max Combo:</strong> {gameStats.maxCombo}</p>\n            <p><strong>⚔️ Max Kill Streak:</strong> {gameStats.maxKillStreak}</p>\n            <p><strong>⏰ Survival Time:</strong> {Math.floor(gameStats.gameTime / 1000)}s</p>\n          </div>\n          <div className=\"game-over-buttons\">\n            <button className=\"menu-button\" onClick={startGame}>\n              🔄 Play Again\n            </button>\n            <button className=\"menu-button\" onClick={() => setGameState('menu')}>\n              🏠 Main Menu\n            </button>\n          </div>\n          <p className=\"company-branding\"><strong>© 2025 Bradley Virtual Solutions, LLC</strong></p>\n        </div>\n      )}\n      \n      {gameState === 'playing' && mobileSystemRef.current.hasTouchSupport() && (\n        <div className=\"touch-controls\">\n          <button \n            className=\"touch-shoot-button\"\n            onTouchStart={(e) => {\n              e.preventDefault();\n              shoot();\n              mobileSystemRef.current.lightVibrate();\n            }}\n          >\n            🔫 SHOOT\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Game;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}