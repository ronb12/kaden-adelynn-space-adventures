{"ast":null,"code":"export class AudioSystem{constructor(){this.audioContext=null;this.sounds={};this.musicEnabled=true;this.soundEnabled=true;this.currentMusic=null;this.initializeAudio();}async initializeAudio(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)();await this.loadSounds();}catch(error){console.warn('Audio not supported:',error);}}async loadSounds(){if(!this.audioContext)return;// Generate sound effects programmatically\nthis.sounds['shoot']=this.generateTone(800,0.1,'square');this.sounds['enemy_hit']=this.generateTone(200,0.2,'sawtooth');this.sounds['enemy_destroy']=this.generateTone(150,0.3,'triangle');this.sounds['power_up']=this.generateTone(600,0.5,'sine');this.sounds['boss_hit']=this.generateTone(100,0.4,'square');this.sounds['boss_destroy']=this.generateTone(80,0.6,'sawtooth');this.sounds['achievement']=this.generateTone(1000,0.8,'sine');this.sounds['combo']=this.generateTone(1200,0.3,'square');this.sounds['streak']=this.generateTone(1400,0.4,'triangle');}generateTone(frequency,duration,waveType){if(!this.audioContext)throw new Error('Audio context not initialized');const sampleRate=this.audioContext.sampleRate;const buffer=this.audioContext.createBuffer(1,sampleRate*duration,sampleRate);const data=buffer.getChannelData(0);for(let i=0;i<data.length;i++){const time=i/sampleRate;let value=0;switch(waveType){case'sine':value=Math.sin(2*Math.PI*frequency*time);break;case'square':value=Math.sin(2*Math.PI*frequency*time)>0?1:-1;break;case'sawtooth':value=2*(time*frequency-Math.floor(time*frequency+0.5));break;case'triangle':value=2*Math.abs(2*(time*frequency-Math.floor(time*frequency+0.5)))-1;break;}// Apply envelope (fade out)\nconst envelope=Math.exp(-time*3);data[i]=value*envelope*0.3;}return buffer;}playSound(soundName){let volume=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;if(!this.audioContext||!this.soundEnabled||!this.sounds[soundName])return;try{const source=this.audioContext.createBufferSource();const gainNode=this.audioContext.createGain();source.buffer=this.sounds[soundName];gainNode.gain.value=volume;source.connect(gainNode);gainNode.connect(this.audioContext.destination);source.start();}catch(error){console.warn('Error playing sound:',error);}}playMusic(musicName){let loop=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!this.audioContext||!this.musicEnabled||!this.sounds[musicName])return;this.stopMusic();try{this.currentMusic=this.audioContext.createBufferSource();const gainNode=this.audioContext.createGain();this.currentMusic.buffer=this.sounds[musicName];this.currentMusic.loop=loop;gainNode.gain.value=0.5;// Lower volume for music\nthis.currentMusic.connect(gainNode);gainNode.connect(this.audioContext.destination);this.currentMusic.start();}catch(error){console.warn('Error playing music:',error);}}stopMusic(){if(this.currentMusic){try{this.currentMusic.stop();}catch(error){// Ignore errors when stopping music\n}this.currentMusic=null;}}setMusicEnabled(enabled){this.musicEnabled=enabled;if(!enabled){this.stopMusic();}}setSoundEnabled(enabled){this.soundEnabled=enabled;}isMusicEnabled(){return this.musicEnabled;}isSoundEnabled(){return this.soundEnabled;}// Sound effect methods for game events\nplayShootSound(){this.playSound('shoot',0.5);}playEnemyHitSound(){this.playSound('enemy_hit',0.6);}playEnemyDestroySound(){this.playSound('enemy_destroy',0.7);}playPowerUpSound(){this.playSound('power_up',0.8);}playBossHitSound(){this.playSound('boss_hit',0.9);}playBossDestroySound(){this.playSound('boss_destroy',1.0);}playAchievementSound(){this.playSound('achievement',0.9);}playComboSound(){this.playSound('combo',0.7);}playStreakSound(){this.playSound('streak',0.8);}}","map":{"version":3,"names":["AudioSystem","constructor","audioContext","sounds","musicEnabled","soundEnabled","currentMusic","initializeAudio","window","AudioContext","webkitAudioContext","loadSounds","error","console","warn","generateTone","frequency","duration","waveType","Error","sampleRate","buffer","createBuffer","data","getChannelData","i","length","time","value","Math","sin","PI","floor","abs","envelope","exp","playSound","soundName","volume","arguments","undefined","source","createBufferSource","gainNode","createGain","gain","connect","destination","start","playMusic","musicName","loop","stopMusic","stop","setMusicEnabled","enabled","setSoundEnabled","isMusicEnabled","isSoundEnabled","playShootSound","playEnemyHitSound","playEnemyDestroySound","playPowerUpSound","playBossHitSound","playBossDestroySound","playAchievementSound","playComboSound","playStreakSound"],"sources":["/Users/ronellbradley/Desktop/Kaden & Adelynn Space Adventures/src/systems/AudioSystem.ts"],"sourcesContent":["export class AudioSystem {\n  private audioContext: AudioContext | null = null;\n  private sounds: { [key: string]: AudioBuffer } = {};\n  private musicEnabled: boolean = true;\n  private soundEnabled: boolean = true;\n  private currentMusic: AudioBufferSourceNode | null = null;\n\n  constructor() {\n    this.initializeAudio();\n  }\n\n  private async initializeAudio(): Promise<void> {\n    try {\n      this.audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();\n      await this.loadSounds();\n    } catch (error) {\n      console.warn('Audio not supported:', error);\n    }\n  }\n\n  private async loadSounds(): Promise<void> {\n    if (!this.audioContext) return;\n\n    // Generate sound effects programmatically\n    this.sounds['shoot'] = this.generateTone(800, 0.1, 'square');\n    this.sounds['enemy_hit'] = this.generateTone(200, 0.2, 'sawtooth');\n    this.sounds['enemy_destroy'] = this.generateTone(150, 0.3, 'triangle');\n    this.sounds['power_up'] = this.generateTone(600, 0.5, 'sine');\n    this.sounds['boss_hit'] = this.generateTone(100, 0.4, 'square');\n    this.sounds['boss_destroy'] = this.generateTone(80, 0.6, 'sawtooth');\n    this.sounds['achievement'] = this.generateTone(1000, 0.8, 'sine');\n    this.sounds['combo'] = this.generateTone(1200, 0.3, 'square');\n    this.sounds['streak'] = this.generateTone(1400, 0.4, 'triangle');\n  }\n\n  private generateTone(frequency: number, duration: number, waveType: OscillatorType): AudioBuffer {\n    if (!this.audioContext) throw new Error('Audio context not initialized');\n\n    const sampleRate = this.audioContext.sampleRate;\n    const buffer = this.audioContext.createBuffer(1, sampleRate * duration, sampleRate);\n    const data = buffer.getChannelData(0);\n\n    for (let i = 0; i < data.length; i++) {\n      const time = i / sampleRate;\n      let value = 0;\n\n      switch (waveType) {\n        case 'sine':\n          value = Math.sin(2 * Math.PI * frequency * time);\n          break;\n        case 'square':\n          value = Math.sin(2 * Math.PI * frequency * time) > 0 ? 1 : -1;\n          break;\n        case 'sawtooth':\n          value = 2 * (time * frequency - Math.floor(time * frequency + 0.5));\n          break;\n        case 'triangle':\n          value = 2 * Math.abs(2 * (time * frequency - Math.floor(time * frequency + 0.5))) - 1;\n          break;\n      }\n\n      // Apply envelope (fade out)\n      const envelope = Math.exp(-time * 3);\n      data[i] = value * envelope * 0.3;\n    }\n\n    return buffer;\n  }\n\n  playSound(soundName: string, volume: number = 1): void {\n    if (!this.audioContext || !this.soundEnabled || !this.sounds[soundName]) return;\n\n    try {\n      const source = this.audioContext.createBufferSource();\n      const gainNode = this.audioContext.createGain();\n\n      source.buffer = this.sounds[soundName];\n      gainNode.gain.value = volume;\n\n      source.connect(gainNode);\n      gainNode.connect(this.audioContext.destination);\n\n      source.start();\n    } catch (error) {\n      console.warn('Error playing sound:', error);\n    }\n  }\n\n  playMusic(musicName: string, loop: boolean = true): void {\n    if (!this.audioContext || !this.musicEnabled || !this.sounds[musicName]) return;\n\n    this.stopMusic();\n\n    try {\n      this.currentMusic = this.audioContext.createBufferSource();\n      const gainNode = this.audioContext.createGain();\n\n      this.currentMusic.buffer = this.sounds[musicName];\n      this.currentMusic.loop = loop;\n      gainNode.gain.value = 0.5; // Lower volume for music\n\n      this.currentMusic.connect(gainNode);\n      gainNode.connect(this.audioContext.destination);\n\n      this.currentMusic.start();\n    } catch (error) {\n      console.warn('Error playing music:', error);\n    }\n  }\n\n  stopMusic(): void {\n    if (this.currentMusic) {\n      try {\n        this.currentMusic.stop();\n      } catch (error) {\n        // Ignore errors when stopping music\n      }\n      this.currentMusic = null;\n    }\n  }\n\n  setMusicEnabled(enabled: boolean): void {\n    this.musicEnabled = enabled;\n    if (!enabled) {\n      this.stopMusic();\n    }\n  }\n\n  setSoundEnabled(enabled: boolean): void {\n    this.soundEnabled = enabled;\n  }\n\n  isMusicEnabled(): boolean {\n    return this.musicEnabled;\n  }\n\n  isSoundEnabled(): boolean {\n    return this.soundEnabled;\n  }\n\n  // Sound effect methods for game events\n  playShootSound(): void {\n    this.playSound('shoot', 0.5);\n  }\n\n  playEnemyHitSound(): void {\n    this.playSound('enemy_hit', 0.6);\n  }\n\n  playEnemyDestroySound(): void {\n    this.playSound('enemy_destroy', 0.7);\n  }\n\n  playPowerUpSound(): void {\n    this.playSound('power_up', 0.8);\n  }\n\n  playBossHitSound(): void {\n    this.playSound('boss_hit', 0.9);\n  }\n\n  playBossDestroySound(): void {\n    this.playSound('boss_destroy', 1.0);\n  }\n\n  playAchievementSound(): void {\n    this.playSound('achievement', 0.9);\n  }\n\n  playComboSound(): void {\n    this.playSound('combo', 0.7);\n  }\n\n  playStreakSound(): void {\n    this.playSound('streak', 0.8);\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}