<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Multiplayer Gameplay Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(180deg, #000011 0%, #000033 50%, #000011 100%);
            color: #e0e0e0;
            min-height: 100vh;
            overflow: hidden;
        }

        .game-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }

        /* Starfield Background */
        .starfield {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, #000033 0%, #000011 100%);
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* Combat Viewport */
        .combat-viewport {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .combat-canvas {
            width: 100%;
            height: 100%;
            cursor: crosshair;
            background: transparent;
        }

        /* Combat HUD */
        .combat-hud {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }

        .combat-hud > * {
            pointer-events: auto;
        }

        .hud-top {
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 11;
        }

        .mission-status {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid rgba(255, 165, 0, 0.6);
            border-radius: 10px;
            padding: 15px;
            min-width: 300px;
        }

        .mission-status h3 {
            color: #ffa500;
            margin: 0 0 10px 0;
            font-size: 16px;
        }

        .objectives-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .objective {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            padding: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 4px solid;
        }

        .objective.low { border-left-color: #ffff00; }
        .objective.medium { border-left-color: #ff8800; }
        .objective.high { border-left-color: #ff4400; }
        .objective.critical { border-left-color: #ff0000; }

        .objective-type {
            color: #e0e0e0;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
        }

        .objective-progress {
            color: #ffa500;
            font-size: 11px;
            font-weight: bold;
        }

        .team-status {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid rgba(153, 50, 204, 0.6);
            border-radius: 10px;
            padding: 15px;
            min-width: 250px;
        }

        .team-status h3 {
            color: #9932cc;
            margin: 0 0 10px 0;
            font-size: 16px;
        }

        .team-members {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .team-member {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            padding: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .member-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .member-name {
            color: #e0e0e0;
            font-size: 12px;
            font-weight: bold;
        }

        .health-bar, .shield-bar {
            width: 80px;
            height: 4px;
            background: rgba(255, 0, 0, 0.3);
            border-radius: 2px;
            overflow: hidden;
        }

        .shield-bar {
            background: rgba(0, 0, 255, 0.3);
        }

        .health-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff0000, #ffff00, #00ff00);
            transition: width 0.3s ease;
        }

        .shield-fill {
            height: 100%;
            background: linear-gradient(90deg, #0000ff, #00ffff);
            transition: width 0.3s ease;
        }

        .hud-bottom {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 11;
        }

        .weapon-systems, .ship-status, .target-info {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid rgba(0, 255, 255, 0.6);
            border-radius: 10px;
            padding: 15px;
            min-width: 200px;
        }

        .weapon-systems h4, .ship-status h4, .target-info h4 {
            color: #00ffff;
            margin: 0 0 10px 0;
            font-size: 14px;
        }

        .weapon-selector {
            display: flex;
            gap: 8px;
            margin-bottom: 10px;
        }

        .weapon-selector button {
            background: rgba(0, 255, 255, 0.2);
            border: 2px solid #00ffff;
            border-radius: 5px;
            color: #e0e0e0;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 11px;
            transition: all 0.3s ease;
        }

        .weapon-selector button.active {
            background: rgba(0, 255, 255, 0.3);
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        .status-bars {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-item span {
            color: #e0e0e0;
            font-size: 11px;
            min-width: 50px;
        }

        .status-bar {
            flex: 1;
            height: 6px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 3px;
            overflow: hidden;
        }

        .status-fill {
            height: 100%;
            transition: width 0.3s ease;
        }

        .status-fill.health {
            background: linear-gradient(90deg, #ff0000, #ffff00, #00ff00);
        }

        .status-fill.shield {
            background: linear-gradient(90deg, #0000ff, #00ffff);
        }

        .status-fill.energy {
            background: linear-gradient(90deg, #ff00ff, #ffff00);
        }

        .target-details {
            display: flex;
            flex-direction: column;
            gap: 3px;
            font-size: 11px;
            color: #b0b0b0;
        }

        /* Game Objects */
        .player-ship {
            position: absolute;
            width: 50px;
            height: 30px;
            z-index: 15;
            animation: shipFloat 3s ease-in-out infinite;
        }

        .player-ship::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.3) 50%, transparent 70%);
            border-radius: 50% 10% 50% 10%;
            animation: shipShine 2s linear infinite;
        }

        .player-ship.player1 {
            background: linear-gradient(45deg, #00ff00, #006600);
            border-radius: 50% 10% 50% 10%;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.6);
            top: 20%;
            left: 10%;
        }

        .player-ship.player2 {
            background: linear-gradient(45deg, #ff6b6b, #cc0000);
            border-radius: 50% 10% 50% 10%;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.6);
            top: 20%;
            right: 10%;
        }

        .player-ship.player3 {
            background: linear-gradient(45deg, #4ecdc4, #006666);
            border-radius: 50% 10% 50% 10%;
            box-shadow: 0 0 15px rgba(78, 205, 196, 0.6);
            bottom: 20%;
            left: 10%;
        }

        .player-ship.player4 {
            background: linear-gradient(45deg, #ffe66d, #cc9900);
            border-radius: 50% 10% 50% 10%;
            box-shadow: 0 0 15px rgba(255, 230, 109, 0.6);
            bottom: 20%;
            right: 10%;
        }

        .enemy {
            position: absolute;
            width: 35px;
            height: 25px;
            z-index: 10;
            animation: enemyMove 4s linear infinite;
        }

        .enemy::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff0000 0%, #cc0000 50%, #990000 100%);
            border-radius: 20% 80% 20% 80%;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.6), inset 0 0 5px rgba(255, 100, 100, 0.3);
        }

        .enemy::after {
            content: '👾';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 16px;
            z-index: 1;
        }

        .enemy.fighter {
            animation-delay: 0s;
        }

        .enemy.bomber {
            animation-delay: 1s;
        }

        .enemy.interceptor {
            animation-delay: 2s;
        }

        .bullet {
            position: absolute;
            width: 6px;
            height: 20px;
            z-index: 12;
            animation: bulletMove 1.5s linear infinite;
        }

        .bullet::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, #ffff00 0%, #ffaa00 50%, #ff6600 100%);
            border-radius: 3px;
            box-shadow: 0 0 10px rgba(255, 255, 0, 0.8), 0 0 20px rgba(255, 170, 0, 0.6);
        }

        .bullet.laser {
            animation-delay: 0s;
        }

        .bullet.missile {
            animation-delay: 0.5s;
        }

        .bullet.plasma {
            animation-delay: 1s;
        }

        .explosion {
            position: absolute;
            width: 40px;
            height: 40px;
            z-index: 14;
            animation: explosionEffect 0.8s ease-out forwards;
        }

        .explosion::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, #ffff00 0%, #ff8800 30%, #ff0000 70%, transparent 100%);
            border-radius: 50%;
            animation: explosionPulse 0.8s ease-out forwards;
        }

        .asteroid {
            position: absolute;
            width: 30px;
            height: 30px;
            background: linear-gradient(45deg, #666666, #333333);
            border-radius: 50%;
            z-index: 5;
            animation: asteroidFloat 6s linear infinite;
        }

        .solar-storm {
            position: absolute;
            width: 60px;
            height: 60px;
            border: 3px solid #ffaa00;
            border-radius: 50%;
            z-index: 6;
            animation: stormPulse 2s ease-in-out infinite;
        }

        .solar-storm::before {
            content: '⚡';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 20px;
            color: #ffaa00;
        }

        /* Animations */
        @keyframes shipFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-5px) rotate(1deg); }
        }

        @keyframes shipShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @keyframes enemyMove {
            0% { transform: translateX(100vw) rotate(0deg); }
            100% { transform: translateX(-100px) rotate(360deg); }
        }

        @keyframes bulletMove {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-100vh); }
        }

        @keyframes explosionEffect {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(2); opacity: 0; }
        }

        @keyframes explosionPulse {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(2); }
        }

        @keyframes asteroidFloat {
            0% { transform: translateX(100vw) rotate(0deg); }
            100% { transform: translateX(-100px) rotate(360deg); }
        }

        @keyframes stormPulse {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        /* Feature Demo Panels */
        .feature-panel {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid rgba(153, 50, 204, 0.6);
            border-radius: 10px;
            padding: 20px;
            z-index: 20;
            max-width: 400px;
            display: none;
        }

        .feature-panel.active {
            display: block;
        }

        .ship-customization-panel {
            top: 50px;
            right: 20px;
        }

        .voice-chat-panel {
            top: 50px;
            left: 20px;
        }

        .progression-panel {
            bottom: 50px;
            left: 20px;
        }

        .mission-panel {
            bottom: 50px;
            right: 20px;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .panel-title {
            color: #9932cc;
            font-size: 18px;
            font-weight: bold;
        }

        .close-btn {
            background: rgba(255, 107, 107, 0.2);
            border: 2px solid #ff6b6b;
            border-radius: 50%;
            color: #ff6b6b;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .panel-content {
            color: #e0e0e0;
            font-size: 14px;
            line-height: 1.6;
        }

        .demo-controls {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 25;
            display: flex;
            gap: 10px;
        }

        .demo-btn {
            background: linear-gradient(45deg, #9932cc, #8b008b);
            border: none;
            border-radius: 8px;
            color: white;
            padding: 10px 20px;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(153, 50, 204, 0.3);
        }

        .demo-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(153, 50, 204, 0.4);
        }

        .demo-btn.active {
            background: linear-gradient(45deg, #00ff00, #00cc00);
            box-shadow: 0 5px 15px rgba(0, 255, 0, 0.3);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hud-top, .hud-bottom {
                flex-direction: column;
                gap: 10px;
            }
            
            .feature-panel {
                max-width: 90vw;
                left: 5vw !important;
                right: 5vw !important;
            }
            
            .demo-controls {
                flex-wrap: wrap;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- Starfield Background -->
        <div class="starfield" id="starfield"></div>

        <!-- Combat Viewport -->
        <div class="combat-viewport">
            <canvas class="combat-canvas" id="combatCanvas" width="1200" height="800"></canvas>
        </div>

        <!-- Combat HUD -->
        <div class="combat-hud">
            <!-- Top HUD -->
            <div class="hud-top">
                <div class="mission-status">
                    <h3>🎯 Mission Status</h3>
                    <div class="objectives-list">
                        <div class="objective high">
                            <span class="objective-type">eliminate</span>
                            <span class="objective-progress">2/5</span>
                        </div>
                        <div class="objective critical">
                            <span class="objective-type">defend</span>
                            <span class="objective-progress">4/4</span>
                        </div>
                    </div>
                </div>

                <div class="team-status">
                    <h3>👥 Team Status</h3>
                    <div class="team-members">
                        <div class="team-member">
                            <div class="member-info">
                                <span class="member-name">Kaden (Pilot)</span>
                                <div class="health-bar">
                                    <div class="health-fill" style="width: 85%"></div>
                                </div>
                                <div class="shield-bar">
                                    <div class="shield-fill" style="width: 60%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="team-member">
                            <div class="member-info">
                                <span class="member-name">Adelynn (Gunner)</span>
                                <div class="health-bar">
                                    <div class="health-fill" style="width: 100%"></div>
                                </div>
                                <div class="shield-bar">
                                    <div class="shield-fill" style="width: 80%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="team-member">
                            <div class="member-info">
                                <span class="member-name">Engineer</span>
                                <div class="health-bar">
                                    <div class="health-fill" style="width: 70%"></div>
                                </div>
                                <div class="shield-bar">
                                    <div class="shield-fill" style="width: 40%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="team-member">
                            <div class="member-info">
                                <span class="member-name">Navigator</span>
                                <div class="health-bar">
                                    <div class="health-fill" style="width: 95%"></div>
                                </div>
                                <div class="shield-bar">
                                    <div class="shield-fill" style="width: 90%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bottom HUD -->
            <div class="hud-bottom">
                <div class="weapon-systems">
                    <h4>🔫 Weapon Systems</h4>
                    <div class="weapon-selector">
                        <button class="active">⚡ Laser</button>
                        <button>🚀 Missile</button>
                        <button>💥 Plasma</button>
                    </div>
                </div>

                <div class="ship-status">
                    <h4>🚀 Ship Status</h4>
                    <div class="status-bars">
                        <div class="status-item">
                            <span>Health</span>
                            <div class="status-bar">
                                <div class="status-fill health" style="width: 85%"></div>
                            </div>
                        </div>
                        <div class="status-item">
                            <span>Shield</span>
                            <div class="status-bar">
                                <div class="status-fill shield" style="width: 60%"></div>
                            </div>
                        </div>
                        <div class="status-item">
                            <span>Energy</span>
                            <div class="status-bar">
                                <div class="status-fill energy" style="width: 70%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="target-info">
                    <h4>🎯 Target Info</h4>
                    <div class="target-details">
                        <span>Target: Enemy Fighter</span>
                        <span>Distance: 450m</span>
                        <span>Status: Locked</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Objects -->
        <div class="player-ship player1" data-player-name="Kaden"></div>
        <div class="player-ship player2" data-player-name="Adelynn"></div>
        <div class="player-ship player3" data-player-name="Engineer"></div>
        <div class="player-ship player4" data-player-name="Navigator"></div>

        <div class="enemy fighter" style="top: 15%; left: 80%; animation-delay: 0s;"></div>
        <div class="enemy bomber" style="top: 35%; left: 85%; animation-delay: 1s;"></div>
        <div class="enemy interceptor" style="top: 55%; left: 82%; animation-delay: 2s;"></div>

        <div class="bullet laser" style="top: 25%; left: 15%; animation-delay: 0s;"></div>
        <div class="bullet missile" style="top: 45%; left: 20%; animation-delay: 0.5s;"></div>
        <div class="bullet plasma" style="top: 65%; left: 18%; animation-delay: 1s;"></div>

        <div class="explosion" style="top: 30%; left: 70%; animation-delay: 0s;"></div>

        <div class="asteroid" style="top: 40%; left: 60%; animation-delay: 0s;"></div>
        <div class="asteroid" style="top: 60%; left: 75%; animation-delay: 2s;"></div>

        <div class="solar-storm" style="top: 10%; left: 50%; animation-delay: 0s;"></div>

        <!-- Feature Demo Panels -->
        <div class="feature-panel ship-customization-panel" id="shipCustomizationPanel">
            <div class="panel-header">
                <div class="panel-title">🛸 Ship Customization</div>
                <button class="close-btn" onclick="closePanel('shipCustomizationPanel')">×</button>
            </div>
            <div class="panel-content">
                <h4>Current Configuration:</h4>
                <p><strong>Hull:</strong> Advanced Fighter</p>
                <p><strong>Primary Weapon:</strong> Laser Cannon</p>
                <p><strong>Secondary Weapon:</strong> Plasma Gun</p>
                <p><strong>Engine:</strong> Ion Drive</p>
                <p><strong>Shield:</strong> Energy Shield</p>
                <p><strong>Paint:</strong> Military Green</p>
                <br>
                <p>Customize your ship's hull, weapons, engines, shields, and paint job to match your playstyle and mission requirements.</p>
            </div>
        </div>

        <div class="feature-panel voice-chat-panel" id="voiceChatPanel">
            <div class="panel-header">
                <div class="panel-title">🎤 Voice Chat</div>
                <button class="close-btn" onclick="closePanel('voiceChatPanel')">×</button>
            </div>
            <div class="panel-content">
                <h4>Communication Status:</h4>
                <p><strong>Channel:</strong> Squad Alpha</p>
                <p><strong>Participants:</strong> 4 players</p>
                <p><strong>Quality:</strong> High (256kbps)</p>
                <p><strong>Status:</strong> Connected</p>
                <br>
                <h4>Quick Commands:</h4>
                <p>⚠️ Enemy Spotted | 🆘 Need Backup | 👥 Form Up | 🏃 Retreat</p>
                <br>
                <p>Real-time voice communication with quality controls and quick command buttons for tactical coordination.</p>
            </div>
        </div>

        <div class="feature-panel progression-panel" id="progressionPanel">
            <div class="panel-header">
                <div class="panel-title">📊 Progression</div>
                <button class="close-btn" onclick="closePanel('progressionPanel')">×</button>
            </div>
            <div class="panel-content">
                <h4>Player Stats:</h4>
                <p><strong>Level:</strong> 12</p>
                <p><strong>Experience:</strong> 8,450 / 10,000</p>
                <p><strong>Skill Points:</strong> 3</p>
                <p><strong>Achievements:</strong> 15/25</p>
                <br>
                <h4>Faction Reputation:</h4>
                <p>Galactic Federation: +75 (Friendly)</p>
                <p>Mercenary Guild: +45 (Neutral)</p>
                <p>Explorer Corps: +30 (Neutral)</p>
                <br>
                <p>Track your progress, unlock new ships and weapons, and build reputation with different factions.</p>
            </div>
        </div>

        <div class="feature-panel mission-panel" id="missionPanel">
            <div class="panel-header">
                <div class="panel-title">🎯 Mission Variety</div>
                <button class="close-btn" onclick="closePanel('missionPanel')">×</button>
            </div>
            <div class="panel-content">
                <h4>Available Missions:</h4>
                <p><strong>Elimination:</strong> Destroy enemy ships</p>
                <p><strong>Escort:</strong> Protect merchant convoy</p>
                <p><strong>Defense:</strong> Defend space station</p>
                <p><strong>Exploration:</strong> Investigate anomaly</p>
                <p><strong>Collection:</strong> Gather resources</p>
                <p><strong>Survival:</strong> Endless waves</p>
                <p><strong>Racing:</strong> Speed circuit</p>
                <br>
                <p>Choose from diverse mission types with different objectives, difficulties, and rewards.</p>
            </div>
        </div>

        <!-- Demo Controls -->
        <div class="demo-controls">
            <button class="demo-btn" onclick="togglePanel('shipCustomizationPanel')">🛸 Ship Custom</button>
            <button class="demo-btn" onclick="togglePanel('voiceChatPanel')">🎤 Voice Chat</button>
            <button class="demo-btn" onclick="togglePanel('progressionPanel')">📊 Progress</button>
            <button class="demo-btn" onclick="togglePanel('missionPanel')">🎯 Missions</button>
            <button class="demo-btn" onclick="startCombatDemo()">🚀 Start Combat</button>
        </div>
    </div>

    <script>
        // Initialize starfield
        function createStarfield() {
            const starfield = document.getElementById('starfield');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starfield.appendChild(star);
            }
        }

        // Panel controls
        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            const isActive = panel.classList.contains('active');
            
            // Close all panels
            document.querySelectorAll('.feature-panel').forEach(p => p.classList.remove('active'));
            
            // Toggle current panel
            if (!isActive) {
                panel.classList.add('active');
            }
        }

        function closePanel(panelId) {
            document.getElementById(panelId).classList.remove('active');
        }

        // Combat demo
        function startCombatDemo() {
            alert('🚀 Starting Dynamic Combat Demo!\n\nFeatures:\n• Real-time space battles\n• Advanced weapon systems\n• Environmental hazards\n• Team coordination\n• Mission objectives\n\nClick on the canvas to fire weapons!\n\nUse the demo buttons to explore different features.');
            
            // Add click handler to canvas
            const canvas = document.getElementById('combatCanvas');
            canvas.addEventListener('click', function(e) {
                // Create explosion at click point
                const explosion = document.createElement('div');
                explosion.className = 'explosion';
                explosion.style.left = e.offsetX + 'px';
                explosion.style.top = e.offsetY + 'px';
                explosion.style.position = 'absolute';
                document.querySelector('.combat-viewport').appendChild(explosion);
                
                // Remove explosion after animation
                setTimeout(() => {
                    explosion.remove();
                }, 800);
            });
        }

        // Dynamic ship movement
        function animateShips() {
            const ships = document.querySelectorAll('.player-ship');
            ships.forEach((ship, index) => {
                const boundaries = [
                    { topMin: 15, topMax: 35, leftMin: 5, leftMax: 25 },   // Player 1
                    { topMin: 15, topMax: 35, leftMin: 75, leftMax: 95 }, // Player 2
                    { topMin: 65, topMax: 85, leftMin: 5, leftMax: 25 },   // Player 3
                    { topMin: 65, topMax: 85, leftMin: 75, leftMax: 95 }  // Player 4
                ];
                
                const boundary = boundaries[index];
                const currentTop = parseFloat(ship.style.top) || (index < 2 ? 20 : 70);
                const currentLeft = parseFloat(ship.style.left) || (index % 2 === 0 ? 10 : 80);
                
                const newTop = Math.max(boundary.topMin, Math.min(boundary.topMax, 
                    currentTop + (Math.random() - 0.5) * 2));
                const newLeft = Math.max(boundary.leftMin, Math.min(boundary.leftMax, 
                    currentLeft + (Math.random() - 0.5) * 2));
                
                ship.style.top = newTop + '%';
                ship.style.left = newLeft + '%';
            });
        }

        // Update HUD elements
        function updateHUD() {
            // Update health bars
            const healthBars = document.querySelectorAll('.health-fill');
            healthBars.forEach(bar => {
                const currentWidth = parseFloat(bar.style.width) || 100;
                const newWidth = Math.max(0, Math.min(100, currentWidth + (Math.random() - 0.5) * 2));
                bar.style.width = newWidth + '%';
            });

            // Update shield bars
            const shieldBars = document.querySelectorAll('.shield-fill');
            shieldBars.forEach(bar => {
                const currentWidth = parseFloat(bar.style.width) || 100;
                const newWidth = Math.max(0, Math.min(100, currentWidth + (Math.random() - 0.5) * 1));
                bar.style.width = newWidth + '%';
            });

            // Update energy bar
            const energyBar = document.querySelector('.status-fill.energy');
            if (energyBar) {
                const currentWidth = parseFloat(energyBar.style.width) || 100;
                const newWidth = Math.max(0, Math.min(100, currentWidth + (Math.random() - 0.5) * 3));
                energyBar.style.width = newWidth + '%';
            }
        }

        // Initialize demo
        document.addEventListener('DOMContentLoaded', function() {
            createStarfield();
            
            // Start animations
            setInterval(animateShips, 200);
            setInterval(updateHUD, 1000);
            
            // Auto-close panels after 5 seconds
            setInterval(() => {
                document.querySelectorAll('.feature-panel.active').forEach(panel => {
                    setTimeout(() => panel.classList.remove('active'), 5000);
                });
            }, 10000);
        });
    </script>
</body>
</html>
